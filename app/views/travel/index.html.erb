
<div class="py-10 lg:py-20 px-4 border-b border-grey-light mb-4 text-black">
<div class="container m-auto text-center">
 
<!--Lucas X PERCENT
<X# Devise prior 4.1.0: %>
<X= link_to "Sign in with Google", user_google_oauth2_omniauth_authorize_path, class:"btn btn-primary my-3" X>
<script src="https://apis.google.com/js/platform.js" async defer></script>
<meta name="google-signin-client_id" content="88624058322-36b5n3ji808n7rqhticb8dt2pqoq4utc.apps.googleusercontent.com">
  </div>
</div>
<br>
LUCAS-->


<div class="container">
<div class="row">



    <div class="col-lg-12 mt-5">
    <div>
      <form action="https://x18127436flights.herokuapp.com/">
          <input type="submit" value="Go back to Airlines Review" />
      </form>
      <br>
      <br>
</div>
      <div class="mx-auto mt-5" style="width: 400px">
        <%= form_with(url: search_path, method: 'get', local: true) do %>
          <div class="form-group">
            <%= label_tag :country,'Search for a country to see its: Capital, Currency and Timezone'%>
            <p><%= text_field_tag :country, nil, placeholder: 'Eg. Germany', class: 'form-control' %>
          </div>
          <%= button_tag 'Search', class: 'btn btn-success btn-block' %>
        <% end %>
      </div>
    </div>
  </div>
</div>

<div class="col-lg-12 mt-5">
<% if flash[:alert] %>
  <div class="alert alert-warning"><%= flash[:alert] %></div>
<% end %>



<script>
var elementAdditionPosition = "beforeend";

function getTasks() {
  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function () {
    if (this.readyState == 4 && this.status == 200) {
      // Add the json stuff
      let container = document.getElementById("container");
      let responses = JSON.parse(this.responseText);

      for (var i = 0; i < responses.length; i++) {
        container.insertAdjacentHTML(
          elementAdditionPosition,
          createResponse(responses[i])
        );
      }
    }
  };
  xhttp.open("GET", "https://x18127436flights.herokuapp.com/api/v1/airlines", true);
  xhttp.send();
}

window.sendForm = function (event) {
  event.preventDefault();
  var xhttp = new this.XMLHttpRequest();
  xhttp.open("POST", "https://x18127436flights.herokuapp.com/api/v1/airlines", true);
  xhttp.onload = function (event) {
    let container = document.getElementById("container");
    let response = JSON.parse(event.target.response);

    container.insertAdjacentHTML(
      elementAdditionPosition,
      createResponse(response)
    );
  };
  var formData = new this.FormData(document.getElementById("name"));
  xhttp.send(formData);
  document.getElementById("slug").value = "";
};

function createResponse(response) {
  return (
    `<div class="task" id="${response.id}" onclick="deleteResponse('${response.id}')">` +
    "[" +
    response.id +
    "]: " +
    response.task +
    "<br />" +
    "</div>"
  );
}
function deleteResponse(response_id) {
  var xhttp = new XMLHttpRequest();
  xhttp.open("DELETE", `https://x18127436flights.herokuapp.com/api/v1/airlines/${response_id}`, true);
  xhttp.onload = function () {
    let target = document.getElementById(response_id);
    target.parentNode.removeChild(target);
  };
  xhttp.send(null);
}

getTasks();

</script>


<footer>
<script type="text/javascript" src="flights.js"></script>
</footer>




<!-- Maps -->
<center><h4><b>Find out using Maps:</b></h4></center>
<center><iframe src="https://www.google.com/maps/embed/v1/place?key=AIzaSyABWEo5cFmqNrjNIc9Ca-G8apD4iGADauI&q=NCI+College,Dublin+Ireland" width=100% height="450" frameborder="0" style="border:0;" allowfullscreen=""></iframe></center><br>



